<html>
  <head>
    <title>Path Tracer</title>
    <style>
      body {
        background: #222;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #viewport {
        box-shadow: 3px 3px 100px #000
      }
    </style>
  </head>
  <canvas id='viewport' width='1280' height='720' style='background: #000;'></canvas>
  <script src='scripts/vector3.js'></script>
  <script src='scripts/ray3.js'></script>
  <script src='scripts/camera.js'></script>
  <script src='scripts/material.js'></script>
  <script src='scripts/sphere.js'></script>
  <script src='scripts/scene.js'></script>
  <script src='scripts/sphere-scene.js'></script>
  <script>

    const TICK = 50
    const BIAS = 1e-6
    const scene = new SphereScene()
    const camera = new Camera({
      canvas: document.getElementById('viewport'),
      scene: scene,
      fov: 40,
      bounces: 10
    })

    scene.onload = render

    function render() {
      const timeout = performance.now() + TICK
      do { camera.expose(scene) } while (performance.now() < timeout)
      camera.draw(true)
      requestAnimationFrame(render)
    }

  </script>
</html>
